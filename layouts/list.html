{{ define "main" }}
<section class="bg-secondary py-20 md:py-28">
    <div class="container mx-auto px-6 text-center">
        <h1 class="text-4xl md:text-6xl font-bold font-serif leading-tight mb-4">{{ .Title }}</h1>
        <p class="text-lg md:text-xl text-gray-600 max-w-3xl mx-auto">{{ .Params.description }}</p>
    </div>
</section>

{{ range $index, $solution := .Params.solutions }}
<section id="{{ $solution.id }}" class="py-24 md:py-32 {{ if (mod $index 2) }}bg-secondary{{ end }}">
    <div class="container mx-auto px-6">
        <div class="grid md:grid-cols-2 gap-12 md:gap-16 items-center">
            {{/* Determine order for text and chart divs */}}
            {{ $textOrder := "order-2 md:order-1" }}
            {{ $chartOrder := "order-1 md:order-2" }}
            {{ if (mod $index 2) }}
                {{ $textOrder = "" }}
                {{ $chartOrder = "" }}
            {{ end }}

            <div class="{{ $textOrder }}">
                <h2 class="text-3xl md:text-4xl font-bold font-serif mb-4">{{ $solution.title }}</h2>
                <p class="text-lg text-gray-600 mb-6">{{ $solution.description }}</p>
                <ul class="space-y-4 mb-8">
                    {{ range $solution.features }}
                    <li class="flex items-start">
                        <svg class="w-6 h-6 text-accent mr-3 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>
                        <span>{{ . | safeHTML }}</span>
                    </li>
                    {{ end }}
                </ul>
                <a href="#contact" class="bg-accent text-white px-8 py-3 rounded-full text-lg font-semibold hover:bg-opacity-90 transition duration-300 inline-block">{{ $solution.cta_text }}</a>
            </div>
            <div class="{{ $chartOrder }}">
                <div class="{{ if (mod $index 2) }}bg-white{{ else }}bg-secondary{{ end }} p-4 sm:p-8 rounded-xl shadow-lg">
                    <canvas id="{{ $solution.chart_id }}"></canvas>
                </div>
            </div>
        </div>
    </div>
</section>
{{ end }}
{{ end }}